<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>Happy Birthday Ch√©n n√¨ ‚ù§Ô∏è</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Poppins', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      background: radial-gradient(circle at top, #ffdee9, #b5fffc);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow-x: hidden;
      color: #222;
    }

    .hearts {
      position: fixed;
      inset: 0;
      overflow: hidden;
      z-index: 0;
      pointer-events: none;
    }

    .heart {
      position: absolute;
      font-size: 18px;
      animation: floatUp linear infinite;
      opacity: 0.7;
    }

    @keyframes floatUp {
      0% {
        transform: translateY(100vh) translateX(0) scale(0.8);
        opacity: 0;
      }
      20% {
        opacity: 1;
      }
      100% {
        transform: translateY(-10vh) translateX(30px) scale(1.2);
        opacity: 0;
      }
    }

    .card {
      position: relative;
      z-index: 1;
      width: min(420px, 92vw);
      background: rgba(255, 255, 255, 0.9);
      border-radius: 24px;
      padding: 24px 22px 26px;
      box-shadow: 0 16px 40px rgba(0, 0, 0, 0.12);
      backdrop-filter: blur(12px);
      text-align: center;
      overflow: hidden;
    }

    h1 {
      font-size: 1.7rem;
      margin-bottom: 4px;
    }

    .subtitle {
      font-size: 0.9rem;
      opacity: 0.7;
      margin-bottom: 14px;
    }

    button {
      border: none;
      outline: none;
      padding: 10px 18px;
      border-radius: 999px;
      font-size: 0.95rem;
      font-weight: 600;
      cursor: pointer;
      background: linear-gradient(135deg, #ff9a9e, #fad0c4);
      color: #442222;
      transition: transform 0.16s ease, box-shadow 0.16s ease, filter 0.16s ease;
      box-shadow: 0 8px 18px rgba(0,0,0,0.18);
      white-space: nowrap;
    }

    button:hover {
      transform: translateY(-1px) scale(1.02);
      filter: brightness(1.03);
      box-shadow: 0 10px 24px rgba(0,0,0,0.2);
    }

    button:active {
      transform: translateY(1px) scale(0.97);
      box-shadow: 0 5px 14px rgba(0,0,0,0.18);
    }

    .primary-btn {
      margin-top: 12px;
    }

    .section {
      margin-top: 14px;
    }

    .hidden {
      display: none;
    }

    /* Gallery */
    .gallery-wrapper {
      position: relative;
      margin-top: 6px;
    }

    .photo-frame {
      position: relative;
      width: 100%;
      padding-top: 70%; /* t·ªâ l·ªá khung h√¨nh */
      border-radius: 18px;
      overflow: hidden;
      background: #fbe9e7;
      box-shadow: inset 0 0 0 2px rgba(0,0,0,0.03);
    }

    .photo-frame img {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: 0;
      transform: scale(1.06);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }

    .photo-frame img.active {
      opacity: 1;
      transform: scale(1);
    }

    .photo-frame img.run {
      animation: runAround 0.8s ease-in-out;
    }

    @keyframes runAround {
      0%   { transform: translateX(-14px) translateY(6px) scale(1.02) rotate(-2deg); }
      40%  { transform: translateX(14px) translateY(-5px) scale(1.02) rotate(2deg); }
      70%  { transform: translateX(-8px) translateY(2px) scale(1.01) rotate(-1.5deg); }
      100% { transform: translateX(0) translateY(0) scale(1); }
    }

    .dots {
      display: flex;
      justify-content: center;
      gap: 5px;
      margin-top: 7px;
      flex-wrap: wrap;
    }

    .dot {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: rgba(0,0,0,0.12);
      transition: transform 0.2s, background 0.2s;
    }

    .dot.active {
      background: #ff6f91;
      transform: scale(1.3);
    }

    /* Message */
    #messageText {
      font-size: 0.9rem;
      line-height: 1.5;
      margin-top: 6px;
      min-height: 70px;
      white-space: pre-line;
    }

    .message-label {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      opacity: 0.6;
    }

    /* Question (C√≥ / Kh√¥ng) */
    #questionSection {
      margin-top: 16px;
    }

    #questionText {
      font-size: 0.92rem;
      margin-bottom: 10px;
    }

    .answer-buttons {
      display: flex;
      justify-content: center;
      gap: 10px;
      position: relative;
      margin-top: 4px;
    }

    #noBtn {
      position: relative;
    }

    /* Gift */
    #giftArea {
      margin-top: 18px;
      animation: fadeInUp 0.45s ease;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(8px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .gift-img {
      width: 80%;
      max-width: 260px;
      border-radius: 18px;
      margin: 0 auto 8px;
      display: block;
      box-shadow: 0 10px 26px rgba(0,0,0,0.18);
    }

    .gift-caption {
      font-size: 0.9rem;
      opacity: 0.9;
    }

    /* Confetti */
    .confetti {
      position: fixed;
      top: -10px;
      width: 8px;
      height: 14px;
      background: #ff9a9e;
      opacity: 0.9;
      border-radius: 2px;
      z-index: 2;
      animation: confettiFall linear forwards;
    }

    @keyframes confettiFall {
      0%   { transform: translateY(-10px) rotate(0deg); }
      100% { transform: translateY(110vh) rotate(360deg); opacity: 0; }
    }

    @media (max-width: 360px) {
      h1 {
        font-size: 1.45rem;
      }
      .card {
        padding: 18px 16px 22px;
      }
    }
  </style>
</head>
<body>
  <!-- Tr√°i tim bay bay -->
  <div class="hearts" id="heartsContainer"></div>

  <div class="card">
    <h1>Ch√∫c m·ª´ng sinh nh·∫≠t Ch√©n n√¨ c·ªßa anh ‚ù§Ô∏è</h1>
    <p class="subtitle">H√¥m nay l√† ng√†y c·ªßa em, v√† tr√°i tim anh c≈©ng ƒëang bay lung tung theo em n√® ü•π</p>

    <!-- H√¨nh k·ª∑ ni·ªám ch·∫°y ch·∫°y -->
    <div id="gallerySection" class="section">
      <div class="gallery-wrapper">
        <div class="photo-frame" id="photoFrame">
          <img src="https://i.imgur.com/7kJokkR.jpeg" class="photo active" alt="·∫¢nh 1">
          <img src="https://i.imgur.com/0UtQZK8.jpeg" class="photo" alt="·∫¢nh 2">
          <img src="https://i.imgur.com/atpoqNG.jpeg" class="photo" alt="·∫¢nh 5">
          <img src="https://i.imgur.com/hDEPCqt.jpeg" class="photo" alt="·∫¢nh 6">
          <img src="https://i.imgur.com/YfttPVh.jpeg" class="photo" alt="·∫¢nh 7">
          <img src="https://i.imgur.com/Bv71SzI.jpeg" class="photo" alt="·∫¢nh 9">
          <img src="https://i.imgur.com/q9ghToQ.jpeg" class="photo" alt="·∫¢nh 10">
          <img src="https://i.imgur.com/jYiCvVx.jpeg" class="photo" alt="·∫¢nh 11">
          <img src="https://i.imgur.com/UYd3sXA.jpeg" class="photo" alt="·∫¢nh 12">
          <img src="https://i.imgur.com/zIaLNAS.jpeg" class="photo" alt="·∫¢nh 13">
          <img src="https://i.imgur.com/pqaM00E.jpeg" class="photo" alt="·∫¢nh 14">
          <img src="https://i.imgur.com/Ud4aI8G.jpeg" class="photo" alt="·∫¢nh 15">
          <img src="https://i.imgur.com/ErV4fWS.jpeg" class="photo" alt="·∫¢nh 16">
        </div>
        <div class="dots" id="dots"></div>
      </div>
    </div>

    <!-- N√∫t m·ªü l·ªùi ch√∫c -->
    <button id="messageBtn" class="primary-btn">
      ƒê√¥i l·ªùi g·ª≠i t·ªõi em b√© c·ªßa anh üíå
    </button>

    <!-- Ph·∫ßn l·ªùi ch√∫c -->
    <div id="messageSection" class="section hidden">
      <div class="message-label">L·ªùi mu·ªën n√≥i v·ªõi em</div>
      <p id="messageText"></p>
    </div>

    <!-- C√¢u h·ªèi C√≥ / Kh√¥ng -->
    <div id="questionSection" class="hidden">
      <p id="questionText">Em c√≥ ƒë·ªìng √Ω nh·∫≠n m√≥n qu√† n√†y kh√¥ng? ü•∫</p>
      <div class="answer-buttons">
        <button id="yesBtn">C√≥ üíñ</button>
        <button id="noBtn">Kh√¥ng üòè</button>
      </div>
    </div>

    <!-- Ph·∫ßn hi·ªán qu√† -->
    <div id="giftArea" class="hidden">
      <img
        class="gift-img"
        src="https://i.imgur.com/9EnoWj2.jpeg"
        alt="M√≥n qu√† cho em">
      <p class="gift-caption">
        C·∫£m ∆°n em v√¨ ƒë√£ ·ªü ƒë√¢y, ƒë√£ ch·ªãu th∆∞∆°ng m·ªôt ng∆∞·ªùi v·ª´a l·∫ßy v·ª´a phi·ªÅn nh∆∞ anh.  
        Hy v·ªçng m√≥n qu√† nh·ªè n√†y v√† nh·ªØng ƒëi·ªÅu anh chu·∫©n b·ªã cho em  
        s·∫Ω l√†m sinh nh·∫≠t Ch√©n n√¨ nƒÉm nay ·∫•m √°p h∆°n m·ªôt ch√∫t.  
        <br><br>
        Ch√∫c em lu√¥n b√¨nh y√™n, lu√¥n c∆∞·ªùi th·∫≠t t∆∞∆°i,  
        v√† n·∫øu ƒë∆∞·ª£c, h√£y cho anh ƒë∆∞·ª£c ·ªü c·∫°nh em th·∫≠t l√¢u n·ªØa nha. üíù
      </p>
    </div>
  </div>

  <script>
    // -------- Tr√°i tim bay bay --------
    const heartsContainer = document.getElementById('heartsContainer');

    function createHeart() {
      const heart = document.createElement('div');
      heart.className = 'heart';
      heart.textContent = '‚ù§';

      const startLeft = Math.random() * 100;
      const duration = 6 + Math.random() * 4;

      heart.style.left = startLeft + 'vw';
      heart.style.animationDuration = duration + 's';

      heartsContainer.appendChild(heart);

      setTimeout(() => heart.remove(), duration * 1000);
    }

    setInterval(createHeart, 900);

    // -------- Gallery + hi·ªáu ·ª©ng ch·∫°y ch·∫°y --------
    const photos = document.querySelectorAll('.photo');
    const dotsContainer = document.getElementById('dots');
    let currentIndex = 0;

    // t·∫°o dot t∆∞∆°ng ·ª©ng s·ªë h√¨nh
    photos.forEach((_, i) => {
      const dot = document.createElement('div');
      dot.className = 'dot' + (i === 0 ? ' active' : '');
      dotsContainer.appendChild(dot);
    });

    const dots = document.querySelectorAll('.dot');

    function showPhoto(index) {
      photos.forEach((photo, i) => {
        photo.classList.toggle('active', i === index);
        photo.classList.remove('run');
      });
      dots.forEach((dot, i) => {
        dot.classList.toggle('active', i === index);
      });

      // trigger hi·ªáu ·ª©ng "ch·∫°y ch·∫°y"
      void photos[index].offsetWidth;
      photos[index].classList.add('run');
    }

    function startSlideshow() {
      showPhoto(currentIndex);
      setInterval(() => {
        currentIndex = (currentIndex + 1) % photos.length;
        showPhoto(currentIndex);
      }, 2000);
    }

    startSlideshow();

    // -------- L·ªùi ch√∫c (typewriter) --------
    const messageBtn      = document.getElementById('messageBtn');
    const messageSection  = document.getElementById('messageSection');
    const messageTextEl   = document.getElementById('messageText');
    const questionSection = document.getElementById('questionSection');
    const yesBtn          = document.getElementById('yesBtn');
    const noBtn           = document.getElementById('noBtn');
    const giftArea        = document.getElementById('giftArea');

    let messageStarted = false;

    const fullMessage = `
G·ª≠i em b√© c·ªßa anh ü•π

Th√™m m·ªôt tu·ªïi m·ªõi n·ªØa r·ªìi. Anh ch√∫c em l√∫c n√†o c≈©ng m·∫°nh m·∫Ω,
b·ªõt m√≠t ∆∞·ªõt l·∫°i m·ªôt x√≠u, nh∆∞ng v·∫´n c·ª© ƒë√°ng y√™u nh∆∞ b√¢y gi·ªù.
Anh mu·ªën khi anh ƒëi hu·∫•n luy·ªán, anh c√≥ th·ªÉ y√™n t√¢m, v√¨ bi·∫øt ·ªü ƒë√¢y
em v·∫´n v·ªØng v√†ng, v·∫´n chƒÉm s√≥c t·ªët cho b·∫£n th√¢n, ƒë·ªÉ t·ª•i m√¨nh
s·ªõm ƒë∆∞·ª£c g·∫∑p l·∫°i nhau.

C·∫£m ∆°n em v√¨ ƒë√£ ·ªü b√™n anh trong kho·∫£ng th·ªùi gian v·ª´a qua.
M·ªõi h∆°n m·ªôt nƒÉm th√¥i m√† g·∫ßn nh∆∞ ng√†y n√†o t·ª•i m√¨nh c≈©ng c√≥ nhau:
bu·ªìn c√≥, vui c√≥, s∆∞·ªõng c√≥, kh·ªï c≈©ng c√≥...
nh∆∞ng quan tr·ªçng l√† t·ª•i m√¨nh v·∫´n lu√¥n n·∫Øm tay nhau m√† ƒëi qua h·∫øt.

Anh xin l·ªói em v√¨ sinh nh·∫≠t nƒÉm nay anh kh√¥ng th·ªÉ l√†m ƒë∆∞·ª£c g√¨ nhi·ªÅu cho em.
Anh th·∫≠t s·ª± bu·ªìn v√† √°y n√°y v·ªÅ ƒëi·ªÅu ƒë√≥. Nh∆∞ng anh h·ª©a sau n√†y anh s·∫Ω b√π l·∫°i cho em,
b·∫±ng nh·ªØng ƒëi·ªÅu x·ª©ng ƒë√°ng h∆°n, b·∫±ng nh·ªØng ng√†y sinh nh·∫≠t
m√† em c·∫£m th·∫•y th·∫≠t s·ª± h·∫°nh ph√∫c.

Em l√† ng∆∞·ªùi ƒë√£ gi√∫p anh thay ƒë·ªïi r·∫•t nhi·ªÅu.
Em c≈©ng l√† l√Ω do m√† m·ªói l·∫ßn nghƒ© v·ªÅ t∆∞∆°ng lai,
anh ƒë·ªÅu th·∫•y m√¨nh ph·∫£i c·ªë g·∫Øng h∆°n n·ªØa.
Ch·ªâ c·∫ßn nghƒ© t·ªõi chuy·ªán sau n√†y c√≥ em b√™n c·∫°nh,
anh l·∫°i c√≥ th√™m ƒë·ªông l·ª±c.

R√°ng ch·ªù anh nha. Anh s·∫Ω c·ªë g·∫Øng ·ªïn ƒë·ªãnh s·ªõm,
ƒë·ªÉ ƒë∆∞·ª£c r∆∞·ªõc em v·ªÅ chung m·ªôt nh√†.
L√∫c ƒë√≥ em s·∫Ω c√≥ th·∫≠t nhi·ªÅu sinh nh·∫≠t ·ªü c·∫°nh anh,
v√† s·∫Ω kh√¥ng c√≥ sinh nh·∫≠t n√†o t·ªá h·∫°i nh∆∞ l·∫ßn n√†y n·ªØa, anh h·ª©a.

Anh y√™u em r·∫•t nhi·ªÅu. üíñ
    `.trim();

    function typeWriter(text, element, speed = 32, callback) {
      element.textContent = '';
      let i = 0;
      const timer = setInterval(() => {
        element.textContent += text.charAt(i);
        i++;
        if (i >= text.length) {
          clearInterval(timer);
          if (callback) callback();
        }
      }, speed);
    }

    function showQuestion() {
      questionSection.classList.remove('hidden');
    }

    messageBtn.addEventListener('click', () => {
      if (messageStarted) return;
      messageStarted = true;

      messageSection.classList.remove('hidden');
      messageBtn.textContent = 'Anh ƒëang th·ªß th·ªâ v·ªõi em n√®... üíó';
      messageBtn.disabled = true;
      messageBtn.style.opacity = '0.8';

      typeWriter(fullMessage, messageTextEl, 32, () => {
        showQuestion();
      });
    });

    // -------- Confetti / ph√°o hoa --------
    function launchConfetti() {
      const colors = ['#ff9a9e', '#fad0c4', '#fbc2eb', '#a1c4fd', '#c2ffd8', '#ffecd2'];

      for (let i = 0; i < 90; i++) {
        const piece = document.createElement('div');
        piece.className = 'confetti';

        const left = Math.random() * 100;
        const delay = Math.random() * 0.6;
        const duration = 3 + Math.random() * 2;
        const rotate = (Math.random() * 360) + 'deg';

        piece.style.left = left + 'vw';
        piece.style.background = colors[Math.floor(Math.random() * colors.length)];
        piece.style.animationDuration = duration + 's';
        piece.style.animationDelay = delay + 's';
        piece.style.transform = 'rotate(' + rotate + ')';

        document.body.appendChild(piece);
        setTimeout(() => piece.remove(), (duration + delay) * 1000);
      }
    }

    // -------- N√∫t C√≥ / Kh√¥ng --------
    yesBtn.addEventListener('click', () => {
      questionSection.classList.add('hidden');
      giftArea.classList.remove('hidden');
      launchConfetti();
    });

    function moveNoButton() {
      // l√†m n√∫t "Kh√¥ng" ch·∫°y tr·ªën
      const offsetX = (Math.random() * 140) - 70; // -70 -> 70
      const offsetY = (Math.random() * 60) - 30;  // -30 -> 30
      noBtn.style.transform = `translate(${offsetX}px, ${offsetY}px)`;
    }

    noBtn.addEventListener('mouseover', moveNoButton);
    noBtn.addEventListener('click', (e) => {
      e.preventDefault();
      moveNoButton();
    });
  </script>
</body>
</html>
